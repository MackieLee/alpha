{"version":3,"sources":["webpack:///src/pages/pass/reset/Reset.vue","webpack:///./src/pages/pass/reset/Reset.vue?15a4","webpack:///./src/pages/pass/reset/Reset.vue"],"names":["Reset","data","_this","this","msgState","time","state","ph","ck","sign","msg","resetForm","phNum","ckCode","msgCode","resetValidate","validator","rule","val","callback","Error","trigger","methods","getMsg","$refs","validateField","_self","interval","window","setInterval","clearInterval","nextStep","name","_this2","validate","valid","Object","src_public","reset_Reset","render","_vm","_h","$createElement","_c","staticClass","ref","attrs","status-icon","model","rules","prop","type","placeholder","value","$$v","$set","expression","_v","span","offset","src","alt","disabled","on","click","_s","long","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/7.0ed8573760c591761730.js","sourcesContent":["<template>\n  <div class=\"padding-15\">\n    <!-- 密码找回表单 -->\n    <el-form ref=\"resetForm\" status-icon :model=\"resetForm\" :rules=\"resetValidate\">\n      <!-- 手机号 -->\n      <el-form-item prop=\"phNum\">\n        <el-input type=\"text\" v-model=\"resetForm.phNum\" placeholder=\"请输入手机号码\">\n        </el-input>\n      </el-form-item>\n      <!-- 验证码 -->\n      <el-form-item prop=\"ckCode\">\n        <el-col :span=\"10\">\n          <el-input type=\"text\" v-model=\"resetForm.ckCode\" placeholder=\"验证码\"></el-input>\n        </el-col>\n        <el-col :span=\"12\" offset=\"2\">\n          <img src=\"\" alt=\"\">\n        </el-col>\n      </el-form-item>\n      <!-- 短信验证码 -->\n      <el-form-item prop=\"msgCode\">\n        <el-col :span=\"10\">\n          <el-input type=\"text\" v-model=\"resetForm.msgCode\" placeholder=\"动态码\"></el-input>\n        </el-col>\n        <el-col :span=\"12\" offset=\"2\">\n          <Button @click=\"getMsg\" :disabled=\"msgState\">{{ time }}</Button>\n        </el-col>\n      </el-form-item>\n      <el-form-item>\n        <Button type=\"primary\" @click=\"nextStep('resetForm',resetForm)\" long>下一步</Button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import { setHash } from '@/public/index'\n\n  export default {\n    data: function () {\n\n      // 判断手机号是否正确\n\n      const validateNum = (rule, val, callback) => {\n        this.state.ph = false\n        if (!val) {\n          callback(new Error(\"手机号码不能为空\"))\n          this.sign.ph = 'close-circled'\n        } else {\n          // 判断手机号是否存在\n\n          // when success\n          this.sign.ph = 'checkmark-circled'\n          this.state.ph = true\n        }\n        callback()\n      }\n\n      // 判断验证码是否输入正确\n\n      const validateCkcode = (rule, val, callback) => {\n        this.state.ck = false\n        if (!val) {\n          callback(new Error(\"验证码不能为空\"))\n          this.sign.ck = 'close-circled'\n        } else {\n          // 查询验证码是否正确\n          this.sign.ck = 'checkmark-circled'\n          this.state.ck = true\n        }\n        callback()\n      }\n\n      // 判断短信验证码是否正确\n\n      const validateMsg = (rule, val, callback) => {\n        if (!val) {\n          callback(new Error(\"验证码不能为空\"))\n          this.sign.msg = 'close-circled'\n        } else {\n          // 查询验证码是否正确\n          this.sign.msg = 'checkmark-circled'\n        }\n        callback()\n      }\n\n      return {\n        // 获取短信验证码状态、\n        msgState: false,\n        time: '获取短信验证码',\n        // 表单状态\n        state: {\n          ph: false,\n          ck: false\n        },\n        // 标记\n        sign: {\n          ph: '',\n          ck: '',\n          msg: ''\n        },\n        // 重置密码的表单value\n        resetForm: {\n          phNum: '',\n          ckCode: '',\n          msgCode: ''\n        },\n        // 表单验证\n        resetValidate: {\n          phNum: [\n            {\n              validator: validateNum,\n              trigger: \"blur\"\n            }\n          ],\n          ckCode: [\n            {\n              validator: validateCkcode,\n              trigger: \"blur\"\n            }\n          ],\n          msgCode: [\n            {\n              validator: validateMsg,\n              trigger: \"blur\"\n            }\n          ]\n        }\n      }\n    },\n    methods: {\n      getMsg() {\n        this.$refs.resetForm.validateField(\"phNum\")\n        this.$refs.resetForm.validateField(\"ckCode\")\n        // 如果是灰色状态，返回false，如果可以点击，则发送短信\n        if(!this.msgState) {\n          // 发送短信操作\n        } else {\n          return false\n        }\n        if(this.state.ck && this.state.ph) {\n          this.msgState = true\n          let _self = this\n          let time = 60\n          /*\n            在这儿执行发送验证码的命令\n          */\n\n          // 按钮冻结计时\n\n          let interval = window.setInterval(function() {\n            if(time === 0) {\n              _self.time = '获取短信验证码'\n              _self.msgState = false\n              window.clearInterval(interval)\n            } else {\n              _self.time = time + '秒后再次获取'\n              time--\n            }\n          }, 1000)\n\n        } else {\n          return false\n        }\n      },\n      nextStep: function (name,val) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            // 发送表单数据到后台\n            setHash(this,'pwd')\n          } else {\n\n          }\n        })\n      }\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pass/reset/Reset.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"padding-15\"},[_c('el-form',{ref:\"resetForm\",attrs:{\"status-icon\":\"\",\"model\":_vm.resetForm,\"rules\":_vm.resetValidate}},[_c('el-form-item',{attrs:{\"prop\":\"phNum\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.resetForm.phNum),callback:function ($$v) {_vm.$set(_vm.resetForm, \"phNum\", $$v)},expression:\"resetForm.phNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"ckCode\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"验证码\"},model:{value:(_vm.resetForm.ckCode),callback:function ($$v) {_vm.$set(_vm.resetForm, \"ckCode\", $$v)},expression:\"resetForm.ckCode\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"offset\":\"2\"}},[_c('img',{attrs:{\"src\":\"\",\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"msgCode\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"动态码\"},model:{value:(_vm.resetForm.msgCode),callback:function ($$v) {_vm.$set(_vm.resetForm, \"msgCode\", $$v)},expression:\"resetForm.msgCode\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"offset\":\"2\"}},[_c('Button',{attrs:{\"disabled\":_vm.msgState},on:{\"click\":_vm.getMsg}},[_vm._v(_vm._s(_vm.time))])],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('Button',{attrs:{\"type\":\"primary\",\"long\":\"\"},on:{\"click\":function($event){_vm.nextStep('resetForm',_vm.resetForm)}}},[_vm._v(\"下一步\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3949da85\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/pass/reset/Reset.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Reset.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Reset.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3949da85\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Reset.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pass/reset/Reset.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}